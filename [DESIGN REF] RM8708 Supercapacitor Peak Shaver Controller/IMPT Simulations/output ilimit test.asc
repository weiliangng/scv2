Version 4
SHEET 1 2540 1652
WIRE -672 -176 -1520 -176
WIRE -560 -176 -672 -176
WIRE -400 -176 -560 -176
WIRE -320 -176 -400 -176
WIRE -176 -176 -320 -176
WIRE -144 -176 -176 -176
WIRE -80 -176 -144 -176
WIRE -48 -176 -80 -176
WIRE 48 -176 32 -176
WIRE 128 -176 48 -176
WIRE 160 -176 128 -176
WIRE 176 -176 160 -176
WIRE 512 -176 272 -176
WIRE 560 -176 512 -176
WIRE 656 -176 560 -176
WIRE 784 -176 656 -176
WIRE 1008 -176 864 -176
WIRE 1088 -176 1008 -176
WIRE 1152 -176 1088 -176
WIRE 1392 -176 1152 -176
WIRE 1536 -176 1488 -176
WIRE 1600 -176 1536 -176
WIRE 1632 -176 1600 -176
WIRE 1744 -176 1712 -176
WIRE 1776 -176 1744 -176
WIRE 1872 -176 1776 -176
WIRE 1952 -176 1872 -176
WIRE 2240 -176 1952 -176
WIRE -672 -160 -672 -176
WIRE -560 -160 -560 -176
WIRE 1952 -160 1952 -176
WIRE 2240 -160 2240 -176
WIRE -144 -144 -144 -176
WIRE 656 -144 656 -176
WIRE 1008 -144 1008 -176
WIRE 1536 -144 1536 -176
WIRE 1776 -144 1776 -176
WIRE 128 -128 128 -176
WIRE 2240 -96 2080 -96
WIRE -672 -80 -672 -96
WIRE -560 -80 -672 -80
WIRE -400 -80 -400 -96
WIRE 2080 -80 2080 -96
WIRE 2080 -80 1952 -80
WIRE -560 -64 -560 -80
WIRE -400 -64 -400 -80
WIRE 608 -64 592 -64
WIRE 1072 -64 1056 -64
WIRE 1952 -64 1952 -80
WIRE 1536 -48 1536 -80
WIRE 128 -32 128 -64
WIRE 656 -32 656 -48
WIRE 832 -32 656 -32
WIRE 864 -32 832 -32
WIRE 1008 -32 1008 -48
WIRE 1008 -32 864 -32
WIRE 832 -16 832 -32
WIRE 832 -16 720 -16
WIRE -80 0 -80 -176
WIRE 48 0 48 -176
WIRE 832 0 832 -16
WIRE 1072 16 1072 -64
WIRE 592 32 592 -64
WIRE 160 48 160 -176
WIRE 160 48 144 48
WIRE 720 96 720 -16
WIRE 832 96 832 80
WIRE 928 96 832 96
WIRE 256 112 256 -128
WIRE 832 112 832 96
WIRE 928 112 928 96
WIRE 1408 112 1408 -128
WIRE 1600 112 1600 -176
WIRE -80 144 -80 80
WIRE -80 144 -128 144
WIRE -48 144 -80 144
WIRE 48 144 48 80
WIRE 48 144 16 144
WIRE 80 144 48 144
WIRE -128 160 -128 144
WIRE 80 160 80 144
WIRE -48 208 -48 144
WIRE 16 208 16 144
WIRE 720 208 720 176
WIRE 752 208 720 208
WIRE 832 208 816 208
WIRE 848 208 832 208
WIRE 928 208 928 192
WIRE 928 208 912 208
WIRE 832 224 832 208
WIRE 1408 240 1408 192
WIRE 624 272 384 272
WIRE 1488 272 688 272
WIRE 256 304 256 192
WIRE 384 336 384 272
WIRE 416 336 384 336
WIRE 512 336 512 -176
WIRE 512 336 480 336
WIRE 592 336 592 112
WIRE 624 336 592 336
WIRE 640 336 624 336
WIRE 1040 336 1024 336
WIRE 1072 336 1072 96
WIRE 1072 336 1040 336
WIRE 1152 336 1152 -176
WIRE 1184 336 1152 336
WIRE 1280 336 1248 336
WIRE 1312 336 1280 336
WIRE 1456 336 1376 336
WIRE 1488 336 1488 272
WIRE 1488 336 1456 336
WIRE 720 352 720 208
WIRE 752 352 720 352
WIRE 768 352 752 352
WIRE 800 352 768 352
WIRE 896 352 864 352
WIRE 912 352 896 352
WIRE 928 352 928 208
WIRE 928 352 912 352
WIRE 256 384 256 304
WIRE 384 384 384 336
WIRE 512 384 512 336
WIRE 640 384 640 336
WIRE 768 384 768 352
WIRE 896 384 896 352
WIRE 1024 384 1024 336
WIRE 1152 384 1152 336
WIRE 1280 384 1280 336
WIRE 1408 384 1408 240
WIRE 144 448 144 48
WIRE 208 448 144 448
WIRE 1536 448 1456 448
WIRE 1600 448 1600 192
WIRE 1600 448 1536 448
WIRE 1872 496 1872 -176
WIRE 144 512 144 448
WIRE 208 512 144 512
WIRE 1600 512 1456 512
WIRE 1744 512 1744 -176
WIRE 1744 512 1600 512
WIRE -320 528 -320 -176
WIRE -176 576 -176 -176
WIRE 208 576 -176 576
WIRE -320 640 -320 608
WIRE 208 640 -320 640
WIRE 1536 640 1456 640
WIRE 1872 640 1872 576
WIRE 1872 640 1536 640
WIRE 1872 672 1872 640
WIRE -320 688 -320 640
WIRE -80 704 -144 704
WIRE 144 704 0 704
WIRE 208 704 144 704
WIRE 1488 704 1488 336
WIRE 1488 704 1456 704
WIRE 1504 704 1488 704
WIRE 1584 704 1568 704
WIRE -16 768 -32 768
WIRE 144 768 48 768
WIRE 208 768 144 768
WIRE 1488 768 1488 704
WIRE 1488 768 1456 768
WIRE -320 784 -320 768
WIRE 1872 784 1872 752
WIRE 208 832 96 832
WIRE 1536 832 1456 832
WIRE 2000 832 1536 832
WIRE -16 896 -144 896
WIRE 208 896 -16 896
WIRE 1536 896 1456 896
WIRE 1840 896 1536 896
WIRE -592 944 -704 944
WIRE -352 944 -512 944
WIRE -144 944 -144 896
WIRE -144 944 -352 944
WIRE 96 960 64 960
WIRE 208 960 176 960
WIRE 1536 960 1456 960
WIRE 1568 960 1536 960
WIRE 1648 960 1632 960
WIRE -512 992 -512 944
WIRE -464 992 -512 992
WIRE 144 1024 96 1024
WIRE 208 1024 144 1024
WIRE 1776 1024 1456 1024
WIRE 96 1040 96 1024
WIRE -704 1072 -704 1024
WIRE 208 1088 176 1088
WIRE 1504 1088 1456 1088
WIRE 1504 1120 1504 1088
WIRE 1520 1120 1504 1120
WIRE 96 1136 96 1104
WIRE 608 1168 608 1152
WIRE 1040 1168 1040 1152
WIRE 1328 1168 1328 1152
WIRE 1360 1168 1328 1168
WIRE 752 1184 752 1152
WIRE 1184 1184 1184 1152
WIRE 1328 1184 1328 1168
WIRE 1504 1184 1504 1120
WIRE 1840 1184 1840 896
WIRE 2000 1184 2000 832
WIRE 320 1216 320 1152
WIRE 752 1280 752 1264
WIRE 1328 1280 1328 1248
WIRE 1504 1280 1504 1248
WIRE 1840 1280 1840 1248
WIRE 2000 1280 2000 1248
FLAG -320 784 0
FLAG -32 768 0
FLAG 64 960 0
FLAG 96 1136 0
FLAG 1648 960 0
FLAG 608 1168 0
FLAG 832 112 0
FLAG 1952 -176 OUT
FLAG 1952 -64 0
FLAG 1872 784 0
FLAG 832 224 0
FLAG 1040 1168 0
FLAG 176 1088 0
FLAG -560 -64 0
FLAG 1584 704 0
FLAG 128 -32 0
FLAG 1536 -48 0
FLAG 2000 1280 0
FLAG 1840 1280 0
FLAG 1504 1280 0
FLAG 1328 1280 0
FLAG -560 -176 IN
FLAG -48 208 CSINP
FLAG 16 208 CSINN
FLAG -704 1072 0
FLAG -512 1072 0
FLAG -464 1056 0
FLAG 144 768 LDO33
FLAG 752 1280 LDO33
FLAG 320 1216 LDO33
FLAG -144 704 LDO33
FLAG -352 944 FBIN
FLAG 144 704 SWEN
FLAG 560 -176 SW1
FLAG 1088 -176 SW2
FLAG 752 352 CSP
FLAG 912 352 CSN
FLAG 624 336 BG1
FLAG 1040 336 BG2
FLAG 1456 336 INTVCC
FLAG 1280 336 BOOST2
FLAG 384 272 BOOST1
FLAG 256 304 TG1
FLAG 1408 240 TG2
FLAG 144 1024 SS
FLAG 864 -32 Sources
FLAG 1536 448 CSPOUT
FLAG 1536 640 FBOUT
FLAG 1536 832 ICP
FLAG 1536 896 ICN
FLAG 1536 960 VC
FLAG 1520 1120 IMON_OP
FLAG 1360 1168 IMON_ON
FLAG 96 832 0
FLAG -816 1264 0
FLAG -400 16 0
FLAG -400 -80 vfbin
FLAG 1184 1184 vfbin
FLAG 1776 1024 0
FLAG 1776 -80 0
FLAG -144 -80 0
FLAG -16 960 0
FLAG -128 224 0
FLAG 80 224 0
FLAG -816 1184 set
FLAG -816 1632 0
SYMBOL res 240 96 R0
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL res 1056 0 R0
SYMATTR InstName R2
SYMATTR Value 1
SYMBOL res 1392 96 R0
SYMATTR InstName R3
SYMATTR Value 1
SYMBOL res 816 -16 R0
SYMATTR InstName R4
SYMATTR Value 2.5m
SYMBOL res 704 80 R0
SYMATTR InstName R5
SYMATTR Value 10
SYMBOL res 912 96 R0
SYMATTR InstName R6
SYMATTR Value 10
SYMBOL cap 816 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL cap 912 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1n
SYMBOL cap 480 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 0.22µ
SYMBOL cap 1248 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 0.22µ
SYMBOL cap 48 752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 4.7µ
SYMBOL res 192 944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 294K
SYMBOL cap 1568 976 R270
WINDOW 3 0 32 VBottom 2
WINDOW 123 -36 32 VBottom 2
WINDOW 39 -18 32 VBottom 2
WINDOW 0 32 32 VTop 2
SYMATTR Value 10n
SYMATTR SpiceLine Rser=21k Cpar=470p
SYMATTR InstName C6
SYMBOL cap 80 1040 R0
SYMATTR InstName C7
SYMATTR Value 47n
SYMBOL ind 768 -160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 6.8µ
SYMATTR SpiceLine Rser=.47m Rpar=1K
SYMBOL diode 688 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value MURS120
SYMBOL diode 1376 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value MURS120
SYMBOL res 1584 96 R0
SYMATTR InstName R8
SYMATTR Value 10
SYMBOL res 1616 -160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 2.5m
SYMBOL res 1856 656 R0
SYMATTR InstName R10
SYMATTR Value 7.68k
SYMBOL voltage -560 -176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.1
SYMATTR InstName Bus1
SYMATTR Value 24
SYMBOL res 736 1168 R0
SYMATTR InstName R11
SYMATTR Value 100K
SYMBOL voltage 1952 -176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.1
SYMATTR InstName Cap1
SYMATTR Value 14
SYMBOL nmos 176 -128 R270
WINDOW 0 56 53 VTop 2
WINDOW 3 31 91 VRight 2
SYMATTR InstName Q1
SYMATTR Value BSC016N04LS
SYMBOL nmos 608 -144 R0
WINDOW 3 56 62 Left 2
SYMATTR Value BSC016N04LS
SYMATTR InstName Q2
SYMBOL nmos 1488 -128 M270
WINDOW 0 79 39 VTop 2
WINDOW 3 51 37 VTop 2
SYMATTR InstName Q3
SYMATTR Value BSC016N04LS
SYMBOL nmos 1056 -144 M0
WINDOW 0 -33 26 Left 2
WINDOW 3 -157 58 Left 2
SYMATTR InstName Q4
SYMATTR Value BSC016N04LS
SYMBOL res 48 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 2m
SYMBOL res 576 16 R0
SYMATTR InstName R13
SYMATTR Value 1
SYMBOL res -336 512 R0
SYMATTR InstName R14
SYMATTR Value 665K
SYMBOL res 1856 480 R0
SYMATTR InstName R15
SYMATTR Value 162k
SYMBOL cap 1584 512 M180
WINDOW 0 28 50 Left 2
WINDOW 3 37 30 Left 2
SYMATTR InstName C8
SYMATTR Value 470n
SYMBOL cap 1568 688 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 4.7µ
SYMBOL cap 112 -128 R0
SYMATTR InstName C10
SYMATTR Value 9µ
SYMATTR SpiceLine Rser=4m
SYMBOL cap 1520 -144 R0
SYMATTR InstName C11
SYMATTR Value 9µ
SYMATTR SpiceLine Rser=4m
SYMBOL cap 1984 1184 R0
WINDOW 3 40 35 Left 2
WINDOW 123 27 59 Left 2
SYMATTR Value 4.7n
SYMATTR Value2 Rpar=17.4K
SYMATTR InstName C12
SYMBOL cap 1824 1184 R0
WINDOW 3 40 35 Left 2
WINDOW 123 23 58 Left 2
SYMATTR Value 4.7n
SYMATTR Value2 Rpar=17.4K
SYMATTR InstName C13
SYMBOL res 16 688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 100K
SYMBOL LT8708 832 768 R0
SYMATTR InstName U1
SYMBOL cap -688 -160 R0
SYMATTR InstName C16
SYMATTR Value 470µ
SYMATTR SpiceLine Rser=20m
SYMBOL cap 2224 -160 R0
SYMATTR InstName C17
SYMATTR Value 470µ
SYMATTR SpiceLine Rser=20m
SYMBOL res -336 672 R0
SYMATTR InstName R17
SYMATTR Value 100k
SYMBOL res -496 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 365
SYMBOL res -496 1088 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R19
SYMATTR Value 976
SYMBOL cap -480 992 R0
SYMATTR InstName C18
SYMATTR Value 4.7µ
SYMBOL cap 864 336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C19
SYMATTR Value 3.3n
SYMBOL bv -704 928 R0
WINDOW 3 -87 174 Left 2
SYMATTR Value V=limit((V(CSINN,CSINP)*50+V(set)),0,3.3)
SYMATTR InstName B1
SYMBOL res -416 -192 R0
SYMATTR InstName R20
SYMATTR Value 191k
SYMBOL res -416 -80 R0
SYMATTR InstName R21
SYMATTR Value 7.68k
SYMBOL cap -160 -144 R0
SYMATTR InstName C20
SYMATTR Value 9µ
SYMATTR SpiceLine Rser=4m
SYMBOL cap 1760 -144 R0
SYMATTR InstName C21
SYMATTR Value 9µ
SYMATTR SpiceLine Rser=4m
SYMBOL res -96 -16 R0
SYMATTR InstName R23
SYMATTR Value 10
SYMBOL res 32 -16 R0
SYMATTR InstName R24
SYMATTR Value 10
SYMBOL cap 16 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C22
SYMATTR Value 1µ
SYMBOL cap -32 896 R0
SYMATTR InstName C24
SYMATTR Value 47n
SYMBOL cap -144 160 R0
SYMATTR InstName C25
SYMATTR Value 100n
SYMBOL cap 64 160 R0
SYMATTR InstName C26
SYMATTR Value 100n
SYMBOL voltage -816 1536 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PWL(0 1.65 5m 1.65 5.1m 0.65 10m 0.65 10.1m 2.65 15m 2.65 30m 0.65 45m 2.65)
SYMBOL voltage -816 1168 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL(0 1.65 5m 1.65 5.1m 0.65 10m 0.65 10.1m 3 15m 3 15.1m 0)
SYMBOL cap 1312 1184 R0
SYMATTR InstName C14
SYMATTR Value 22n
SYMATTR SpiceLine Rpar=21k
SYMBOL cap 1488 1184 R0
SYMATTR InstName C15
SYMATTR Value 22n
SYMATTR SpiceLine Rpar=21k
TEXT 1496 1416 Left 2 !.tran 60m\n.ic V(OUT)=14\n.ic V(IN)=24\n.model SW3 SW(Ron=1.33 Roff=25 Vt=2.5 Vh=0.1)
TEXT 800 -248 Center 3 ;24V Bidirectional Power Buffer System with FHCM and RHCM
TEXT 2376 -136 Left 2 ;supercap side
TEXT -880 -160 Left 2 ;power bus
